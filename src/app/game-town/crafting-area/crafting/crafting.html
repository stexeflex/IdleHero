<!-- CRAFTING PANEL -->
<div class="panel">
  <div class="panel-header">
    <div>
      <h3>ITEM CRAFTING</h3>
    </div>
    <!-- ACTIONS -->
    <div class="actions">
      <app-gold [amount]="CraftCost()" size="sm" fontSize="1.3rem"></app-gold>
      <button
        class="ih-button-secondary action"
        [disabled]="CraftCost() > GoldBalance() || !SelectedVariant()"
        (click)="Craft()">
        CRAFT
      </button>
    </div>
  </div>

  <div class="panel-body">
    <!-- SLOTS -->
    <div class="slots">
      @for (s of Slots; track s) {
        <button class="slot" [class.active]="SelectedSlot() === s" (click)="SelectSlot(s)">
          <app-icon [gear]="SlotIcons[s]" size="md"></app-icon>
          {{ s.toUpperCase() }}
        </button>
      }
    </div>

    <!-- TIERS -->
    <div class="tiers">
      @for (t of Tiers; track t) {
        <button class="tier" [class.active]="SelectedTier() === t" (click)="SelectedTier.set(t)">
          TIER {{ t }}
        </button>
      }
    </div>

    <!-- VARIANTS -->
    <div class="variants">
      @for (v of VariantsForSlot(); track v.Id) {
        <button
          class="variant"
          [class.active]="SelectedVariant()?.Id === v.Id"
          (click)="SelectVariant(v.Id)">
          <app-icon [gear]="v.Icon" size="md"></app-icon>
          <div class="variant-info">
            <span>{{ v.Name.toUpperCase() }}</span>
            @if (v.WeaponBaseDamage && v.WeaponBaseAttackSpeed) {
              <span class="variant-weapon-stats">
                DMG: {{ v.WeaponBaseDamage }} | APS: {{ v.WeaponBaseAttackSpeed }}
              </span>
            }
            <span class="variant-innate">
              {{ VariantLabel(v) }}
            </span>
          </div>
        </button>
      }
    </div>
  </div>
</div>
